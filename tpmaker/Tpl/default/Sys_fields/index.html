<tagLib name="cx,html,myhtml" />
<include file="../Public/header" />
<!-- 主体内容  -->

<fieldset >
	<legend>现在系统所有的数据表</legend>

<!--  功能操作区域  -->
<table width="100%"   cellpadding=0 cellspacing=0 >
	<tr>
		<td width="60%">

	<input type="button" onclick="window.open('__URL__/table/id/{$_GET['pid']}', 'mini');" class="button1" value="查看表信息">
	<input type="button" onclick="location.href='__URL__/index/pid/{$_GET['pid']}'" class="button1" value="刷新">
	
	<input type="button" onclick="window.open('__URL__/add/pid/{$_GET['pid']}', 'mini');" class="button1" value="增加数据">
	<input type="button" onclick="del()" class="button1" value="删除数据">
	<input type="button" class="button1" onclick="upbtn();" value="更新数据">
	<input type="button" onclick="window.open('__URL__/sort/pid/{$_GET['pid']}', 'mini');" class="button1" value="排序数据">
		</td>
		<FORM METHOD="GET" ACTION="{$searchurl}">
		<td align="right">


			<table width="100%" cellpadding=0 cellspacing=0>
			<tr >
			<td align="right">{$page}</td>
			</tr>
			</table>

		</td>
		</FORM>
	</tr>
</table>

<!-- 功能操作区域结束 -->
</fieldset>
<fieldset>

<form name="form_update" id="form_update" method="POST">
<!-- 列表显示区域  -->
<div class="tab-pane" id="tabPane1">

<script type="text/javascript">
tp1 = new WebFXTabPane( document.getElementById( "tabPane1" ) );
</script>

  <div class="tab-page" id="tabPage10">
		<h2 class="tab">系统自定义数据表</h2>
		<script type="text/javascript">tp1.addTabPage( document.getElementById( "tabPage10" ) );</script>
		<myhtml:editlist id="checkList" name="list"  checkbox="true"  datasource="list" style="list"
		show="
			id|hidden|1:ID,
			caption|12:标题,
			name|8:表名[英文],
			fieldtype|select|makeselect('fieldtype[]'#'sub_fieldtype'#$list['fieldtype']):字段属性,
			fieldlenght|4:字段长度,
			

			seqNo|1:排序
		"
		/>
</div>
  <div class="tab-page" id="tabPage3" >
		<h2 class="tab">基本操作和默认值设定</h2>
		<script type="text/javascript">tp1.addTabPage( document.getElementById( "tabPage3" ) );</script>
		<myhtml:editlist id="checkList2" name="list"  checkbox="true"  datasource="list_val" style="list"
		show="
			caption|text:标题,
			
			viewtype|select|makeselect('viewtype[]'#'sub_viewtype'#$list['viewtype']):详细信息类型,
			edittype|select|makeselect('edittype[]'#'sub_edittype'#$list['edittype']):编辑形式,
			addtype|select|makeselect('addtype[]'#'sub_addtype'#$list['addtype']):增加形式,
			issystem|select|makeselect('issystem[]'#'sub_issystem'#$list['issystem']):系统保留,
			indexvar|20:默认值[支持函数],
			autotype|select|makeselect('autotype[]'#'Sub_auto'#$list['autotype']):自动填充
		"
		/>
</div>

  <div class="tab-page" id="tabPage1">
		<h2 class="tab">LIST列表项设定</h2>
		<script type="text/javascript">tp1.addTabPage( document.getElementById( "tabPage1" ) );</script>
		<myhtml:editlist id="checkList2" name="list"  checkbox="true"  datasource="list_genneral" style="list"
		show="
			caption|text:标题,
			
			islist|select|makeselect('islist[]'#'sub_yesno'#$list['islist']):是否列表,
			islistviewtype|select|makeselect('islistviewtype[]'#'sub_viewtype'#$list['islistviewtype']):列表查看类型,
			islistwidth|4:列表长度,
			iswrap|select|makeselect('iswrap[]'#'sub_yesno'#$list['iswrap']):是否排序

		"
		/>
</div>
  <div class="tab-page" id="tabPage2" >
		<h2 class="tab">系统验证设定</h2>
		<script type="text/javascript">tp1.addTabPage( document.getElementById( "tabPage2" ) );</script>
		<myhtml:editlist id="checkList2" name="list"  checkbox="true"  datasource="list_val" style="list"
		show="
			caption|text:标题,
			
			request|select|makeselect('request[]'#'sub_yesno'#$list['request']):必填,
			validate|select|makeselect('validate[]'#'sub_validate'#$list['validate']):验证形式,
			validate_tex|40:错误提示[不填为默认],
			validate_reg|40:自定义正则验证
		"
		/>
</div>

<div class="tab-page" id="tabPage4">
		<h2 class="tab">搜索设定</h2>
		<script type="text/javascript">tp1.addTabPage( document.getElementById( "tabPage4" ) );</script>
		<myhtml:editlist id="checkList2" name="list"  checkbox="true"  datasource="list_search" style="list"
		show="
			caption|text:标题,
			
			issearch|select|makeselect('issearch[]'#'sub_yesno'#$list['issearch']):是否搜索,
			searchtype|select|makeselect('searchtype[]'#'sub_searchtype'#$list['searchtype']):一般搜索形式,
			advsearchtype|select|makeselect('advsearchtype[]'#'sub_searchtype'#$list['advsearchtype']):高级搜索形式
		"
		/>
</div>
<div class="tab-page" id="tabPage5">
		<h2 class="tab">当前外键属性</h2>
		<script type="text/javascript">tp1.addTabPage( document.getElementById( "tabPage5" ) );</script>
		<myhtml:editlist id="checkList2" name="list"  checkbox="true"  datasource="list_outkey" style="list"
		show="
			caption|text:标题,
			
			outkeyis|select|makeselect('outkeyis[]'#'sub_yesno'#$list['outkeyis']):是否,
			outkey|20:外键表,
			outkeyid|6:外键表ID,
			outkeyf|40:外键表栏目,
			outkeywhere|40:外键表过滤条件
		"
		/>
</div>

<input type="hidden" name="pid" value="{$_REQUEST['pid']}">


</form>
</fieldset>

<iframe scrolling="auto"  width="100%" height="200px" name="mini" src="__URL__/Table/id/{$_REQUEST['pid']}"  frameborder="0"></iframe>

<include file="../Public/footer" />
