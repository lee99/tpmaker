<tagLib name="html" />
<include file="../Public/header" />
<div class="dtree">

<script type="text/javascript">
<!--

	d = new dTree('d');
//Node(id, pid, name, url, title, target, icon, iconOpen, open)


	
	//生成project的树形菜单
	<volist name="project" id="project_vo">
	d.add('project{$project_vo.id}',-1,'{$project_vo.caption}<font color=red>[查看]</font>','__APP__/Sys_tables/index/pid/{$project_vo.id}',null,'mainFrame',IMG_PATH+'b_import.png',IMG_PATH+'b_import.png');
	</volist>	
	
	//生成model的树形菜单
	<volist name="project" id="project_vo">
	d.add('sharemodel{$project_vo.id}','dbbase{$project_vo.id}','公共数据模型',null,null,null,IMG_PATH+'b_import.png',IMG_PATH+'b_import.png');
	d.add('config{$project_vo.id}','project{$project_vo.id}','项目生成操作',null,null,null,IMG_PATH+'b_import.png',IMG_PATH+'b_import.png');
	d.add('systemdb{$project_vo.id}','dbmodel{$project_vo.id}','系统保留数据结构',null,null,null,IMG_PATH+'b_import.png',IMG_PATH+'b_import.png');
	d.add('dbbase{$project_vo.id}','dbmodel{$project_vo.id}','基本数据结构','__APP__/Sys_tables/index/pid/{$project_vo.id}',null,'mainFrame',IMG_PATH+'b_import.png',IMG_PATH+'b_import.png');
	d.add('dbdesign{$project_vo.id}','dbmodel{$project_vo.id}','扩展数据结构(开发中)',null,null,null,IMG_PATH+'b_relations.png',IMG_PATH+'b_relations.png');
	d.add('view{$project_vo.id}','dbmodel{$project_vo.id}','视图模型设计',null,null,null,IMG_PATH+'b_relations.png',IMG_PATH+'b_relations.png');
	d.add('dbdesign01{$project_vo.id}','dbdesign{$project_vo.id}','基本数据模型关系图','__APP__/designer/index/id/{$project_vo.id}',null,'mainFrame');
	d.add('dbmodel{$project_vo.id}','project{$project_vo.id}','数据模型',null,null,null,IMG_PATH+'b_import.png',IMG_PATH+'b_import.png');
	d.add('creat{$project_vo.id}','config{$project_vo.id}','项目生成','__APP__/index/buide/id/{$project_vo.id}',null,'mainFrame');
	d.add('creat{$project_vo.id}1','config{$project_vo.id}','拷贝项目','__APP__/Sys_projects/percopy/id/{$project_vo.id}',null,'mainFrame');
	d.add('creat{$project_vo.id}2','config{$project_vo.id}','生成数据字典','__APP__/Sys_projects/dic/id/{$project_vo.id}',null,'mainFrame');
	d.add('creat{$project_vo.id}3','config{$project_vo.id}','导入数据库','__APP__/Sys_projects/perimport/id/{$project_vo.id}',null,'mainFrame');
	d.add('set{$project_vo.id}','project{$project_vo.id}','项目其它设定',null,null,null,IMG_PATH+'b_import.png',IMG_PATH+'b_import.png');
	d.add('set{$project_vo.id}1','set{$project_vo.id}','应用模块分类','__APP__/Apptree/index',null,'mainFrame');
	</volist>
	
	//生成table的树形菜单
	<volist name="table" id="table_vo">
	<if condition="$table_vo[ismodel] eq 1">
	d.add('table{$table_vo.id}','sharemodel{$table_vo.pid}','{$table_vo.caption}','__APP__/sys_fields/index/pid/{$table_vo.id}',null,'mainFrame');	
	<else/>
	d.add('table{$table_vo.id}','dbbase{$table_vo.pid}','{$table_vo.caption}','__APP__/sys_fields/index/pid/{$table_vo.id}',null,'mainFrame',IMG_PATH+'imgfolder{$table_vo.isaction}.gif',IMG_PATH+'imgfolder{$table_vo.isaction}.gif');	
	</if>
	</volist>
		
	//生成系统保留table的树形菜单
	<volist name="systable" id="systable_vo">
	d.add('table{$systable_vo.id}','systemdb{$systable_vo.pid}','{$systable_vo.caption}','__APP__/sys_fields/index/pid/{$systable_vo.id}',null,'mainFrame',IMG_PATH+'imgfolder_l.gif',IMG_PATH+'imgfolder_l.gif');	
	</volist>
	
		document.write(d);
		window.open("__APP__/Sys_tables/index/pid/{$project_vo.id}",'mainFrame');
		//-->
</script>

</div>

<include file="../Public/footer" />
